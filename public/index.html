<script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.6.0/qs.min.js"></script>

<h1>Chat App</h1>

<form id='form'>
    <input id='input' type='text' />
    <button id='submit'>Send Message</button>
</form>
<button id='location'>Send Location</button>

<div id='messages'></div>

<script id='message-template' type='text/html'>
    <div>
        <p><span>{{timestamp}}</span> {{message}}</p>
    </div>
</script>

<script id='location-template' type='text/html'>
    <div>
        <p><span>{{timestamp}}</span><a href="{{location}}" target="_blank"> My Location</a></p>
    </div>
</script>

<script id='alert-template' type='text/html'>
    <div>
        <p><span>{{timestamp}}</span> {{alert}}</p>
    </div>
</script>

<script src="https://unpkg.com/getlibs"></script>
<script src='/socket.io/socket.io.js'></script>
<script>
    // io is was available becuase of src='/socket.io/socket.io.js'
    // once io() is invoked, it triggers connection to the socket enabled server
    // isNowConnected should be matched on the socket.emit on the server
    const socket = io()
    System.import('/js/sendMessage.js');
    System.import('/js/sendLocation.js');
    System.import('/js/sendDisconnect.js');
    System.import('/js/onMessage.js');
</script>